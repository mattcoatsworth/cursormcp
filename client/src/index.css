@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

@layer components {
  /* Apply exact focus style as requested */
  /* This clears default focus styles */
  input:focus-visible {
    outline: none;
  }
  
  /* Apply the exact styles requested for the chat input */
  .chat-input-container input:focus-visible {
    @apply focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2;
    margin-right: 8px;
  }
  
  /* Chat message styling */
  .message {
    @apply flex flex-col mb-4;
  }

  .bubble {
    @apply p-3 rounded-[20px] max-w-[80%] leading-relaxed;
  }

  .user .bubble {
    @apply bg-white border border-slate-200;
  }

  .assistant .bubble {
    @apply bg-white border border-slate-200 shadow-sm;
  }

  .actions {
    @apply flex items-center mt-1 gap-3 text-gray-500;
  }

  .actions button {
    @apply cursor-pointer hover:text-gray-700;
  }

  .copy-confirm {
    @apply text-green-500 text-xs;
  }

  /* Custom animation for thinking indicator */
  .thinking-dot {
    @apply inline-block rounded-full bg-gray-600 dark:bg-gray-400 h-1.5 w-1.5 mx-0.5;
    animation: thinking-dot-pulse 1.4s infinite ease-in-out both;
  }

  .thinking-dot:nth-child(1) {
    animation-delay: -0.32s;
  }

  .thinking-dot:nth-child(2) {
    animation-delay: -0.16s;
  }

  @keyframes thinking-dot-pulse {
    0%, 80%, 100% {
      transform: scale(0);
    }
    40% {
      transform: scale(1);
    }
  }

  /* Custom animation for the processing icon */
  .processing-icon {
    @apply inline-block;
    animation: processing-spin 2s linear infinite;
  }

  @keyframes processing-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  /* Slide animation for the bar spinner */
  .animate-slide {
    animation: slide 1.5s infinite ease-in-out;
  }
  
  @keyframes slide {
    0% {
      transform: translateX(-100%);
    }
    50% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(-100%);
    }
  }
}